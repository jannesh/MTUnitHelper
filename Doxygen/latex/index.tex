\section*{M\+T\+Unit\+Helper -\/ A Toolchain to Automate M\+T\+Unit}

The problem of Unit Testing in Meta\+Trader is that there is a lack of pre-\/developed testing frameworks, such as Google Test, j\+Unit, Cpp\+Test and so on.

This project is part of a bigger project called\+: M\+T\+Unit -\/ A Unit Test framework for Meta\+Trader 5. M\+T\+Unit Project can be found here\+: \href{https://github.com/rodrigoshaller/MTUnit}{\tt https\+://github.\+com/rodrigoshaller/\+M\+T\+Unit} and it consists basically in a home made Unit Test Framework developed for Meta\+Trader 5 (yes, you can use it in Meta\+Trader 4, maybe some adjusts need to be made, but it won\textquotesingle{}t be a big deal, I promise).

Let\textquotesingle{}s make something clear\+: \subsubsection*{This project is not a Unit Test! M\+T\+Unit is!}

\subsubsection*{This project is a toolchain intended to make our lives easier in terms of writing Test Suites and Test Cases.}

I\textquotesingle{}ll briefly explain each tool, but for a more complete explanation, I suggest you to read my M\+T\+Unit Project.

\subsubsection*{Tool\+: \mbox{\hyperlink{class_m_t_unit_tests_compiler}{M\+T\+Unit\+Tests\+Compiler}}}

This is the most important tool here. It scans the Test directory and goes through all test files looking for every Test Suite and their respective Test Cases.

Then , it writes a file called \mbox{\hyperlink{_m_t_unit_all_tests_8mqh}{M\+T\+Unit\+All\+Tests.\+mqh}} containing all basic declarations you would have had to write manually.

You can use it by two different ways\+: Directly, or as a Watcher.

What do I mean by \char`\"{}directly\char`\"{}? You can call the mt\+Unit\+Helper.\+exe file passing the argument\+: mt\+Unit\+Tests\+Compiler, and it will generate the \mbox{\hyperlink{_m_t_unit_all_tests_8mqh}{M\+T\+Unit\+All\+Tests.\+mqh}} file once.

Or you can use it as a Watcher. In this case, if you run the mt\+Unit\+Helper.\+exe without any argument (simple double click on the .exe file), the app will enter in a Watcher mode.

In this mode, it will monitors the Test folder and trigger whenever a change is made to that directory. \begin{DoxyWarning}{Warning}
In this case, the app will keep running until you close it.
\end{DoxyWarning}
\subsubsection*{Tool\+: \mbox{\hyperlink{class_m_t_unit_e_a_linker}{M\+T\+Unit\+E\+A\+Linker}}}

This tool is used to update the config files required by the Meta\+Terminal when running an Expert Advisor.

It looks for the EA Parameter and updates it with the name of the generated .ex5 file. \begin{DoxyNote}{Note}
In order to use this tool, the argument received by mt\+Unit\+Helper.\+exe must be\+: mt\+Unit\+E\+A\+Linker Write\+Here\+The\+Path\+Of\+The\+E\+A\+You\+Want\+To\+Run.\+mq5
\end{DoxyNote}
\subsubsection*{Tool\+: \mbox{\hyperlink{class_m_t_unit_logger}{M\+T\+Unit\+Logger}}}

This tool looks for the output log file generated by Meta\+Editor, hijacks this file to the Runners folder and adds some color to the output to make it more visual effective. \begin{DoxyNote}{Note}
In order to use this class, the argument received by mt\+Unit\+Helper.\+exe must be\+: mt\+Unit\+Logger 
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
The colored output does not work directly from Meta\+Editor, so if you want to use it, I suggest you to follow the instructions (M\+T\+Unit Project) for using this tool in Sublime Text 3.
\end{DoxyWarning}
If you didn\textquotesingle{}t take a look at the M\+T\+Unit Project, you may be wondering why \mbox{\hyperlink{class_m_t_unit_e_a_linker}{M\+T\+Unit\+E\+A\+Linker}} and \mbox{\hyperlink{class_m_t_unit_logger}{M\+T\+Unit\+Logger}} are used for. Doesn\textquotesingle{}t Meta\+Editor links to my EA and output the log\+File?

Yes it does. But, as referenced in the M\+T\+Unit Project, I don\textquotesingle{}t like to use the Meta\+Editor. So I\textquotesingle{}ve configured Sublime Text 3 to build and run everything automatically with the press of a button (F7). And that\textquotesingle{}s where the need to develop this 2 tools came from.

So, if you are not planning to use Sublime Text or any other tool for developing Expert Advisors, \mbox{\hyperlink{class_m_t_unit_e_a_linker}{M\+T\+Unit\+E\+A\+Linker}} and \mbox{\hyperlink{class_m_t_unit_logger}{M\+T\+Unit\+Logger}} won\textquotesingle{}t be useful for you.

I suggest you to simply double click on mt\+Unit\+Helper.\+exe before start coding your E\+As and it will manage your tests automatically for you.

\subsubsection*{Other Thoughts}

If you are asking yourself why isn\textquotesingle{}t this project inside M\+T\+Unit Project... I decided to make this a separate project because\+:
\begin{DoxyItemize}
\item It is a separate project. M\+T\+Unit is a Unit Test Framework... M\+T\+Unit\+Helper is not.
\item This project can be adapted for your own needs. It doesn\textquotesingle{}t need to be exclusive for M\+T5. (It is written in C++ using Q\+T\+Creator, btw)
\end{DoxyItemize}

\begin{DoxyNote}{Note}
In order to work, the file structure must follow the structure of this project. An by saying that I mean that the mt\+Unit\+Helper.\+exe file must be inside the \char`\"{}\+Runners\char`\"{} folder and the tests must be placed inside a \char`\"{}\+Test\char`\"{} folder. The \mbox{\hyperlink{_m_t_unit_all_tests_8mqh}{M\+T\+Unit\+All\+Tests.\+mqh}} will be generated inside a \char`\"{}\+Include\char`\"{} folder.
\end{DoxyNote}
That\textquotesingle{}s it. Just let me know if you have any suggestions, critiques or doubts.

Cheers,

Rodrigo Haller (\href{mailto:rodrigoshaller@gmail.com}{\tt rodrigoshaller@gmail.\+com})

This project is made under G\+NU General Public License 